@attribute [CascadingTypeParameter(nameof(TItem))]
@typeparam TItem

<CascadingValue Value="_selection">
    @ChildContent?.Invoke(_selection)
</CascadingValue>

@code {
    private Selection<TItem> _selection;

    public Selector()
        => _selection = new(Selection, Multiple);

    [Parameter, Description("Content to be rendered.")]
    public RenderFragment<ISelection<TItem>>? ChildContent { get; set; }

    [Parameter, Description("Enables multiple selection when true.")]
    public bool Multiple { get; set; }

    [Parameter, Description("Collection that contains selected items.")]
    public ICollection<TItem> Selection { get; set; } = [];

    protected override void OnParametersSet()
        => _selection = new(Selection, Multiple);
}
